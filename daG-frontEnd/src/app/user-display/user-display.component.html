
<h1>Informations sur les Particuliers</h1>
<input type="text" class="form-control" placeholder="Filtre de Recherche ..." [(ngModel)]="searchTerm" (keyup)="applyFilter()">

<div class="presentation">
    Bienvenue sur la page de détails des utilisateurs. Cette section fournit des informations complètes et à jour sur chacun de nos utilisateurs
     particuliers, incluant leurs coordonnées, profils, et l'historique de leurs interactions (procédures qu'ils ont enclenchées). 
     Utilisez cette page pour mieux comprendre et gérer vos relations avec nos utilisateurs.
</div>
       
<div *ngIf="selectedUser" class="user-details">
    <div class="title"><h2>Informations de l'utilisateur</h2></div>
    
    <div class="row" style="margin-top: 5%; width: 90%; margin-left: 5%;">
        <div class="col-md-6">
            <p><strong>Nom:</strong> {{ selectedUser.name }}</p>
            <p><strong>Email :</strong> {{ selectedUser.email }}</p>
            <p><strong>Genre :</strong> {{ selectedUser.gender }}</p>
        </div>
        <div class="col-md-6" >
            <p><strong>Prénom :</strong> {{ selectedUser.firstName }}</p>
            <p><strong>Téléphone :</strong> {{ selectedUser.phoneNumber }}</p>
            <p><strong>Date de naissance :</strong> {{ selectedUser.birthDate | date }}</p>
        </div>
    </div>

    <br><br>
    <h4>Procedures Enclenchées :</h4>
    <br>
    <ul>
        <li *ngFor="let procedure of selectedUser.procedures" style="width: 90%; margin-left: 5%;">
            <p><strong>         Identifiant procédure :</strong> {{procedure.id}}</p>
            <p><strong>         Type : </strong>{{ procedure.type }}</p>
            <p><strong>         Date Demande : </strong>{{ procedure.dateDemande | date }}</p>
            <p><strong>         Status : </strong>{{ procedure.status }}</p>
            <p><strong>         Documents Scannés : </strong>{{ procedure.documentsScannes.join(', ') }}</p>
            <br>
        </li>
    </ul>
    
    <button class="btn btn-outline-danger" style="width:19.5%; margin-left: 80%;margin-right: 0.5%; font-size: 20px;" (click)="onBack()">Masquer</button>
</div>


<table style="border: 20px solid white;">
    <thead class="firstLine">
    <td>Nom</td>
    <td>Prénom</td>
    <td>Mail</td>
    <td>Genre</td>
    <td></td>
    </thead>
    <tr *ngFor="let ur of user$ | async ">
        
        <td>{{ur.name}}</td>
        <td>{{ur.firstName}}</td>
        <td>{{ur.email}}</td>
        <td>{{ur.gender}}</td>
        <td><button style=" display: block; margin: 0 auto;text-align: center; font-size: 20px;" class="btn btn-outline-dark" (click)="onViewUser(ur)">Consulter</button></td>
    </tr>
</table>

<br><br>